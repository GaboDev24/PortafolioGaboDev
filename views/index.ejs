<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>GaboDev</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="icon" href="img/icon.ico">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <!-- Intro -->
  <div id="intro">
    <img src="/img/logo-rojo.png" alt="Logo Intro" class="intro-logo">
  </div>
  <!-- Header -->
  <div class="header_cont">
    <header>
      <img src="/img/logo.png" alt="Logo" class="logo">
      <a href="https://gabodevclient.vercel.app/" class="btn-contacto">¡Contáctame!</a>
    </header>
  </div>
  <!-- Presentación -->
  <section class="presentacion">
    <div class="presentacion-contenido">
      <img src="/img/foto.png" alt="Mi foto" class="mi-foto">
      <p class="saludo">
        ¡Hola! Soy Gabriel Reina, apodado GaboDev, soy desarrollador web, diseñador gráfico autodidacta y creador de videos en YT.
        Actualmente me encuentro estudiando "Desarrollador de Software" en el Instituto Nuevo Cuyo, ubicado en Mendoza, Argentina.  
        Acá encontrarás mis proyectos de programación, diseño gráfico y edición de videos.
        <br><br>
      <a href="/CV.pdf" download="CV.pdf" class="cv-btn">
        Descargar CV
      </a>
      </p>
    </div>
  </section>

  <!-- Proyectos -->
  <main>
    <section class="proyectos">
      <h2>Proyectos de Programación</h2>
      <div class="cards">
        <% proyectos.filter(p => p.tipo === 'programacion').forEach(proyecto => { %>
          <div class="card">
            <h3><%= proyecto.titulo %></h3>

            <% if (proyecto.imagen) { %>
              <img src="<%= proyecto.imagen %>" alt="<%= proyecto.titulo %>" style="width:100%; border-radius:8px; margin-bottom:10px;">
            <% } %>

            <% if (proyecto.link) { %>
              <a href="<%= proyecto.link %>" target="_blank" class="btn-ver">Ver proyecto</a>
            <% } %>
          </div>
        <% }) %>
      </div>
    </section>
    <section class="proyectos">
      <h2>Diseño Gráfico</h2>
      <div class="carrusel">
        <% proyectos.filter(p => p.tipo === 'diseno').forEach(proyecto => { %>
          <div class="slide">
            <img src="<%= proyecto.imagen %>" 
                alt="<%= proyecto.titulo %>" 
                data-img="<%= proyecto.imagen %>" 
                class="carrusel-img">
            <p><%= proyecto.titulo %></p>
          </div>
        <% }) %>
      </div>
    </section>

    <!-- Modal de imagen -->
    <div id="modal" class="modal">
      <span class="cerrar">&times;</span>
      <img class="modal-contenido" id="modal-img">
    </div>
    <section class="proyectos">
      <h2>Edición de Videos</h2>
      <div class="cards">
        <% proyectos.filter(p => p.tipo === 'video').forEach(proyecto => { %>
          <div class="card">
            <h3><%= proyecto.titulo %></h3>
            
            <% if (proyecto.link) { %>
              <!-- Miniatura de YouTube -->
              <% 
                const videoId = proyecto.link.split("v=")[1] ? proyecto.link.split("v=")[1].split("&")[0] : proyecto.link.split("/").pop(); 
              %>
              <a href="<%= proyecto.link %>" target="_blank">
                <img src="https://img.youtube.com/vi/<%= videoId %>/hqdefault.jpg" alt="<%= proyecto.titulo %>" style="width:100%; border-radius:8px;">
              </a>
            <% } %>
          </div>
        <% }) %>
      </div>
    </section>
  </main>

  <!-- Conocimientos -->
  <section class="skills">
    <h2>Conocimientos</h2>
    <div class="logos">
      <img src="/img/python.png" alt="Python" class="logo-skill">
      <img src="/img/node.png" alt="Node.js" class="logo-skill">
      <img src="/img/mongo.png" alt="MongoDB" class="logo-skill">
      <!-- Más logos -->
    </div>
  </section>
  <footer>
    <h1 class="footer-h1">
      Tambien podes contactarme en:
    </h1>
    <a href="https://github.com/GaboDev24" class="redes-btn" target="_blank">
      <i class="fa-brands fa-github" class="redes-icon"></i> GitHub
    </a>
    <a href="mailto:gabodev240402@gmail.com" class="redes-btn" target="_blank">
      <i class="fa-brands fa-google" class="redes-icon"></i> Mail
    </a>
    <a href="https://www.instagram.com/gabodev24/" class="redes-btn" target="_blank">
      <i class="fa-brands fa-instagram" class="redes-icon"></i> Instagram
    </a>
    <a href="https://discordapp.com/users/gabodev24_" class="redes-btn" target="_blank">
      <i class="fa-brands fa-discord" class="redes-icon"></i> Discord
    </a>
  </footer>
<script>
  window.addEventListener('load', () => {
    const intro = document.getElementById('intro');
    setTimeout(() => {
      intro.classList.add('hidden'); // fade out
      setTimeout(() => intro.remove(), 1000);
    }, 2500); 
  });
    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modal-img");
    const closeBtn = document.getElementById("close");

    document.querySelectorAll(".carrusel-img").forEach(img => {
      img.addEventListener("click", () => {
        modal.style.display = "flex";
        modalImg.src = img.dataset.img;

        // Resetear clases de animación
        modalImg.classList.remove("zoomOut");
        void modalImg.offsetWidth; // hack para reiniciar
        modalImg.classList.add("zoomIn");
      });
    });

    // Cerrar modal con animación suave
    function cerrarModal() {
      modalImg.classList.remove("zoomIn");
      modalImg.classList.add("zoomOut");

      // esperar que termine la animación para ocultar
      modalImg.addEventListener("animationend", () => {
        if (modalImg.classList.contains("zoomOut")) {
          modal.style.display = "none";
        }
      }, { once: true });
    }

    closeBtn.addEventListener("click", cerrarModal);
    modal.addEventListener("click", e => {
      if (e.target === modal) cerrarModal();
    });

  // cerrar con la X
  cerrar.onclick = () => {
    modal.style.display = "none";
    modalImg.src = "";
  };

  // cerrar clickeando fuera de la imagen
  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.style.display = "none";
      modalImg.src = "";
    }
  });
</script>

</body>
</html>
